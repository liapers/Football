import{i as Y,j as P,k as H,_ as b,o,e as m,l as F,a as e,n as C,f as J,m as Q,t as n,r as D,c as y,w as h,g as w,b as p,F as v,h as x,p as U,d as W,q as z,v as O,s as X,x as Z,y as ee}from"./index-5c2cf638.js";import{u as te}from"./leagues-f58104df.js";import{u as ae}from"./teams-7d5988fa.js";const se=Y("matches",()=>{const a=P([]);async function t(c){const d={method:"GET",url:`/seasons/${c}`,params:{api_token:{}.VITE_API_KEY,include:"fixtures.localTeam,fixtures.visitorTeam,fixtures.goals"}},s=await H(d);a.value=s.data.data.fixtures.data}return{matches:a,loadBySeason:t}});const oe={class:"group relative inline-block"},ne={__name:"AppTooltip",props:{content:{type:String,default:""},placement:{type:String,default:"top",validator:a=>["top","left","bottom","right"].includes(a)},theme:{type:String,default:"dark",validator:a=>["dark","light"].includes(a)},arrow:{type:Boolean,default:!0}},setup(a){const t=a;return(c,d)=>(o(),m("div",oe,[F(c.$slots,"default",{},void 0,!0),e("div",{class:C([`tooltip-placement-${t.placement} tooltip-theme-${t.theme}`,"absolute z-50 whitespace-nowrap rounded px-3 py-2 text-sm font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-300"])},[a.arrow?(o(),m("span",{key:0,class:C([`tooltip-arrow-placement-${t.placement} tooltip-arrow-theme-${t.theme}`,"absolute -z-10 h-2 w-2 rotate-45 rounded-sm"])},null,2)):J("",!0),F(c.$slots,"content",{},()=>[Q(n(t.content),1)],!0)],2)]))}},I=b(ne,[["__scopeId","data-v-08d02d3a"]]);const ce=["src","alt"],le={class:"card-team__name"},re={class:"card-team__coach"},ie={__name:"TeamCard",props:{id:Number,name:String,logo:String,coach:String},setup(a){const t=a;return(c,d)=>{const s=D("router-link");return o(),y(s,{to:{name:"teamDetail",params:{id:t.id}},class:"card-team"},{default:h(()=>[e("img",{class:"card-team__logo",src:t.logo,alt:t.name},null,8,ce),e("h2",le,n(t.name),1),w(I,{content:"Тренер",placement:"bottom"},{default:h(()=>[e("p",re,n(a.coach),1)]),_:1})]),_:1},8,["to"])}}},de=b(ie,[["__scopeId","data-v-7f68a32e"]]);const _e={class:"flex justify-end"},me={class:"card-match__date"},ue={class:"flex items-center"},pe=["src","alt"],he={class:"card-match__team-name"},ge={class:"card-match__team-goals"},fe={__name:"MatchCard",props:{match:Object},setup(a){const t=a,c=p(()=>{const s=t.match.localTeam.data,u=t.match.visitorTeam.data;return[{name:s.name,logo:s.logo_path,goals:t.match.scores.localteam_score},{name:u.name,logo:u.logo_path,goals:t.match.scores.visitorteam_score}]}),d=p(()=>{const s=new Intl.DateTimeFormat("ru"),[u,l]=t.match.time.starting_at.date_time.split(" ");return s.format(new Date(u))+" "+l.slice(0,5)});return(s,u)=>{const l=D("router-link");return o(),y(l,{to:{name:"matchDetail",params:{id:t.match.id}},class:"card-match"},{default:h(()=>[e("div",_e,[w(I,{content:"Дата и время начала матча",placement:"top"},{default:h(()=>[e("p",me,n(d.value),1)]),_:1})]),(o(!0),m(v,null,x(c.value,_=>(o(),m("div",{key:_.name,class:"flex mt-4 items-center justify-between"},[e("div",ue,[e("img",{class:"card-match__team-logo",src:_.logo,alt:_.name},null,8,pe),e("h2",he,n(_.name),1)]),e("h2",ge,n(_.goals),1)]))),128))]),_:1},8,["to"])}}},ve=b(fe,[["__scopeId","data-v-3163cf30"]]);const k=a=>(Z("data-v-8864f722"),a=a(),ee(),a),xe={class:"league-detail"},ye={class:"league-detail__header"},we={class:"flex flex-col justify-between"},be={class:"text-4xl font-extrabold leading-[0.85] tracking-tight text-gray-900 text-start"},ke={class:"flex gap-x-5"},Te={class:"flex flex-col mt-4"},Se=k(()=>e("p",{class:"text-base text-gray-500"}," Страна ",-1)),$e={class:"text-base text-gray-900 font-bold"},Ce={class:"flex flex-col mt-4"},De=k(()=>e("p",{class:"text-base text-gray-500"}," Сезон ",-1)),Ie={class:"text-base text-gray-900 font-bold"},Be={class:"flex flex-wrap text-sm font-medium text-center text-gray-500 dark:text-gray-400"},Le=["onClick"],Me={class:"flex flex-col items-end"},je=["src"],Ae=k(()=>e("svg",{class:"w-[16px] h-[16px] text-white pr-[10px]","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 8 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 1 1.3 6.326a.91.91 0 0 0 0 1.348L7 13"})],-1)),Ne=k(()=>e("span",null," Все лиги ",-1)),Ve={class:"mt-7"},Ee={class:"text-2xl font-extrabold leading-none pl-7 tracking-tight text-white"},Fe={class:"mt-7 flex flex-wrap flex-row gap-y-10 gap-x-4"},ze={class:"mt-7 flex flex-wrap flex-row gap-y-10 gap-x-4"},Oe={__name:"LeagueDetail",setup(a){const t=U(),c=te(),d=ae(),s=se(),u=p(()=>t.params.id),l=p(()=>c.leagueDetail),_=p(()=>s.matches),B=p(()=>{if(d.teams)return d.teams.map(r=>{var $,f;return{...r,coach:(f=($=r.coach)==null?void 0:$.data)==null?void 0:f.fullname,logo:r.logo_path}})}),T=[{label:"Команды",name:"teams"},{label:"Матчи",name:"matches"}],g=P(T[0].name),q=p(()=>T.find(r=>r.name===g.value).label??""),G=async r=>{g.value=r,await L()},S=r=>g.value===r,L=async()=>{g.value==="teams"&&!B.value?await K():g.value==="matches"&&!_.value.length&&await R()},K=async()=>{await d.loadBySeason(l.value.season.data.id)},R=async()=>{await s.loadBySeason(l.value.season.data.id)};return W(async()=>{await c.loadOne(u.value),await L()}),(r,$)=>{var M,j,A,N,V,E;const f=D("router-link");return o(),m("div",xe,[e("div",ye,[e("div",we,[e("div",be,n(l.value.name),1),e("div",ke,[e("div",Te,[Se,e("p",$e,n((A=(j=(M=l.value)==null?void 0:M.country)==null?void 0:j.data)==null?void 0:A.name),1)]),e("div",Ce,[De,e("p",Ie,n((E=(V=(N=l.value)==null?void 0:N.season)==null?void 0:V.data)==null?void 0:E.name),1)])]),e("ul",Be,[(o(),m(v,null,x(T,i=>e("li",{key:i.name,class:"mr-2"},[e("button",{onClick:Pe=>G(i.name),class:C([S(i.name)?"btn-active":"","inline-block league-detail__btn"])},n(i.label),11,Le)])),64))])]),e("div",Me,[e("img",{src:l.value.logo_path,class:"max-w-32 max-h-32 bg-cover bg-center"},null,8,je),w(I,{content:"Перейти к списку лиг",placement:"bottom",class:"w-full"},{default:h(()=>[w(f,{to:{name:"leagues"},class:"league-detail__btn"},{default:h(()=>[Ae,Ne]),_:1})]),_:1})])]),e("div",Ve,[e("h2",Ee,n(q.value),1),z(e("div",Fe,[(o(!0),m(v,null,x(B.value,i=>(o(),y(de,X(i,{key:i.id}),null,16))),128))],512),[[O,S("teams")]]),z(e("div",ze,[(o(!0),m(v,null,x(_.value,i=>(o(),y(ve,{key:i.id,match:i},null,8,["match"]))),128))],512),[[O,S("matches")]])])])}}},Re=b(Oe,[["__scopeId","data-v-8864f722"]]);export{Re as default};
